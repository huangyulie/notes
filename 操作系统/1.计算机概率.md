# 引论

##  什么是操作系统

可以这么说，早做系统是一种运行在内核态的软件

它是应用程序和硬件之间的媒介，向应用程序提供硬件的抽象以及管理硬件资源

![操作系统是什么](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8772cdc6fe0c44dda85b95310f0f0759~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

## 操作系统主要有哪些功能

操作系统最主要的功能：

- 处理器(CPU)管理：CPU的管理和分配，主要指的是进程管理
- 内存管理:内存的分配和管理，主要利用了虚拟内存的方式
- 外存管理:外存(磁盘等)的分配和管理，将外存一文件的形式提供出去
- I/O管理:对输入/输出设备的统一管理

除此之外，还有保证自身正常运行的健壮性管理，防止非法操作和入侵的安全性管理

![操作系统主要功能](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ad759bc063b4e09bc5dc3f1b145b400~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

# 操作系统结构

## 什么是内核

可以这么说，内核是一个计算机程序，它是操作系统的核心，提供了操作系统最核心的能力，可以控制操作系统中所有的内容

## 什么是用户态和内核态

内核具有很高的权限，可以控制cpu，内存，硬盘等硬件，出于权限控制的考虑，因此大多数操作系统，把内存分成了两个区域

- 内核空间，这个内存空间只有内核程序可以访问
- 用户空间，这个内催空间专门给应用程序使用，权限比较小

用户空间的代码只能访问一个局部的内存空间，二内核空间的代码可以访问所有的内存空间。因此，当程序使用用户空间的时候，我们厂说该程序在`用户态`执行，而当程序使用内核空间时，程序则在`内核态`执行

## 用户态和内核态是如何切换的

应用程序如果需要进入内核空间，就需要通过系统调用，来进入内核态

![用户态&内核态切换](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/54daf87ac17d42ad9334032c1a517782~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

内核程序执行在内核态，用户程序执行在用户态，当应用程序使用系统调用时，会产生一个中断。发生中断后，cpu会中断当前在执行的用户程序，转而跳转到中断处理程序，也就是开始执行内核程序，内核处理完后，主动触发中断，吧CPU执行权限交回给用户程序，回到用户态继续工作
